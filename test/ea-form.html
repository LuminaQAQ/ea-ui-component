<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Document</title>
    <link rel='stylesheet' href='../components/ea-icon/index.css'>

    <style>
        hr {
            margin: 3rem 0;
        }
    </style>
</head>

<body>

    <script type='module'>
        import '../components/ea-icon/index.js'

        import '../components/ea-form/index.js'

        import '../components/ea-time-picker/index.js'
        import '../components/ea-date-picker/index.js'
        import '../components/ea-input/index.js'
        import '../components/ea-select/index.js'
        import '../components/ea-radio/index.js'
        import '../components/ea-radio-group/index.js'
        import '../components/ea-checkbox/index.js'
        import '../components/ea-checkbox-group/index.js'
        import '../components/ea-switch/index.js'
        import '../components/ea-textarea/index.js'

        import '../components/ea-button/index.js'

        // ------- 1. 基本表单 -------
        // #region
        const basicForm = {
            form: document.querySelector('#basicForm'),
            btn: document.querySelector('#basicFormSubmitBtn'),

            init() {
                this.btn.addEventListener('click', () => {
                    console.log(this.form.data);
                })
            }
        };
        basicForm.init();
        // #endregion
        // ------- end -------

        // ------- 2. 表单验证 -------
        // #region
        const validtorForm = {
            form: document.querySelector('#validtorForm'),
            btn: document.querySelector('#validtorFormSubmitBtn'),

            init() {
                this.form.rules = {
                    name: { required: true, min: 2, max: 4 },
                    phone: { required: true, reg: /^1[3456789]\d{9}$/ },
                    gender: { required: true, trigger: 'change' },
                    hobby: { required: true, trigger: 'change' },
                    area: { required: true },
                    arrivalDate: { required: true },
                    arrivalTime: { required: true },
                };

                this.btn.addEventListener('click', () => {
                    const isInvalid = this.form.validate();
                    if (isInvalid.length > 0) {
                        console.log(isInvalid);
                    } else {
                        console.log(this.form.data);
                    }
                })
            }
        };
        validtorForm.init();
        // #endregion
        // ------- end -------
    </script>

    <!-- -------- 1. 基本表单 --------  -->
    <!-- #region  -->
    <ea-form id="basicForm">
        <ea-form-item label='姓名'>
            <div slot="invalid-text">请正确填写姓名, 长度为 2-4 个字符</div>
            <ea-input name="name" placeholder="姓名" value="洛霖"></ea-input>
        </ea-form-item>
        <ea-form-item label='性别'>
            <div slot="invalid-text">请选择性别</div>
            <ea-radio-group name="gender" value="男">
                <ea-radio value="男">男</ea-radio>
                <ea-radio value="女">女</ea-radio>
            </ea-radio-group>
        </ea-form-item>
        <ea-form-item label='爱好'>
            <div slot="invalid-text">请至少选择一种爱好</div>
            <ea-checkbox-group name="hobby" value="吃饭">
                <ea-checkbox value="吃饭">吃饭</ea-checkbox>
                <ea-checkbox value="睡觉">睡觉</ea-checkbox>
                <ea-checkbox value="编程">编程</ea-checkbox>
            </ea-checkbox-group>
        </ea-form-item>
        <ea-form-item label='宿舍'>
            <div slot="invalid-text">校区不能为空</div>
            <ea-switch name="dorm" inactive-color="#409eff" active-color="#13ce66" inactive-text="四人间"
                active-text="六人间">
            </ea-switch>
        </ea-form-item>
        <ea-form-item label='校区'>
            <div slot="invalid-text">校区不能为空</div>
            <ea-select name="area" placeholder="请选择校区" selection="A 校区">
                <ea-option value="A 校区">A 校区</ea-option>
                <ea-option value="B 校区">B 校区</ea-option>
            </ea-select>
        </ea-form-item>
        <ea-form-item label='到达日期'>
            <div slot="invalid-text">到达日期不能为空</div>
            <ea-date-picker name="arrivalDate" value="2024-10-1"></ea-date-picker>
        </ea-form-item>
        <ea-form-item label='到达时间'>
            <div slot="invalid-text">到达时间不能为空</div>
            <ea-time-picker name="arrivalTime" time="17:0:0" limit-range-start="9:0:0" limit-range-end="17:00:0">
            </ea-time-picker>
        </ea-form-item>
        <ea-form-item label='备注'>
            <div slot="invalid-text">到达时间不能为空</div>
            <ea-textarea name="remark" type="textarea" rows="2" placeholder="这不是空的"></ea-textarea>
        </ea-form-item>
        <ea-form-item>
            <ea-button id="basicFormSubmitBtn" type="primary">提交</ea-button>
        </ea-form-item>
    </ea-form>
    <!-- #endregion  -->
    <!-- -------------------  -->

    <hr>

    <!-- -------- 2. 表单验证 --------  -->
    <!-- #region  -->
    <ea-form id="validtorForm">
        <ea-form-item label='姓名'>
            <div slot="invalid-text">请正确填写姓名, 长度为 2-4 个字符</div>
            <ea-input name="name" placeholder="姓名"></ea-input>
        </ea-form-item>
        <ea-form-item label='手机号'>
            <div slot="invalid-text">请正确填写手机号</div>
            <ea-input name="phone" placeholder="手机号"></ea-input>
        </ea-form-item>
        <ea-form-item label='性别'>
            <div slot="invalid-text">请选择性别</div>
            <ea-radio-group name="gender">
                <ea-radio value="男">男</ea-radio>
                <ea-radio value="女">女</ea-radio>
            </ea-radio-group>
        </ea-form-item>
        <ea-form-item label='爱好'>
            <div slot="invalid-text">请至少选择一种爱好</div>
            <ea-checkbox-group name="hobby">
                <ea-checkbox value="吃饭">吃饭</ea-checkbox>
                <ea-checkbox value="睡觉">睡觉</ea-checkbox>
                <ea-checkbox value="编程">编程</ea-checkbox>
            </ea-checkbox-group>
        </ea-form-item>
        <ea-form-item label='宿舍'>
            <div slot="invalid-text">校区不能为空</div>
            <ea-switch name="dorm" inactive-color="#409eff" active-color="#13ce66" inactive-text="四人间"
                active-text="六人间">
            </ea-switch>
        </ea-form-item>
        <ea-form-item label='校区'>
            <div slot="invalid-text">校区不能为空</div>
            <ea-select name="area" placeholder="请选择校区">
                <ea-option value="A 校区">A 校区</ea-option>
                <ea-option value="B 校区">B 校区</ea-option>
            </ea-select>
        </ea-form-item>
        <ea-form-item label='到达日期'>
            <div slot="invalid-text">到达日期不能为空</div>
            <ea-date-picker name="arrivalDate" placeholder="到达日期"></ea-date-picker>
        </ea-form-item>
        <ea-form-item label='到达时间'>
            <div slot="invalid-text">到达时间不能为空</div>
            <ea-time-picker name="arrivalTime" time="17:0:0" limit-range-start="9:0:0" limit-range-end="17:00:0">
            </ea-time-picker>
        </ea-form-item>
        <ea-form-item label='备注'>
            <div slot="invalid-text">到达时间不能为空</div>
            <ea-textarea name="remark" type="textarea" rows="2" placeholder="这不是空的"></ea-textarea>
        </ea-form-item>
        <ea-form-item>
            <ea-button id="validtorFormSubmitBtn" type="primary">提交</ea-button>
        </ea-form-item>
    </ea-form>
    <!-- #endregion  -->
    <!-- -------------------  -->
</body>

</html>