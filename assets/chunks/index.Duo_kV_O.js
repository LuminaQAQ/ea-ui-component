var y=(i,s,t)=>{if(!s.has(i))throw TypeError("Cannot "+t)};var m=(i,s,t)=>(y(i,s,"read from private field"),t?t.call(i):s.get(i)),a=(i,s,t)=>{if(s.has(i))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(i):s.set(i,t)},r=(i,s,t,e)=>(y(i,s,"write to private field"),e?e.call(i,t):s.set(i,t),t);var p=(i,s,t)=>(y(i,s,"access private method"),t);import{B as E}from"./Base.CfZnvlaz.js";import{a as u}from"./createElement.BM9xfELw.js";const C=`
@import url('/ea_ui_component/icon/index.css');

`;var b,l,h,c,w,f,S;class R extends E{constructor(){super();a(this,c);a(this,f);a(this,b,void 0);a(this,l,void 0);a(this,h,void 0);const t=this.attachShadow({mode:"open"}),e=document.createElement("div");e.className="ea-infinite_wrap",e.part="wrap";const n=u("");e.appendChild(n),r(this,b,e),this.build(t,C),this.shadowRoot.appendChild(e);const o=u("loading");o.style.display="none",this.shadowRoot.appendChild(o);const d=u("noMore");d.style.display="none",this.shadowRoot.appendChild(d),r(this,l,o),r(this,h,d)}get delay(){return this.getAttrNumber("delay")||200}set delay(t){this.setAttribute("delay",t)}get loading(){return this.getAttrBoolean("loading")}set loading(t){t!==void 0&&this.setAttribute("loading",t)}get disabled(){return this.getAttrBoolean("disabled")||!1}set disabled(t){this.setAttribute("disabled",t),t&&(m(this,h).style.display="block")}init(){this.delay=this.delay,p(this,f,S).call(this,this.delay)}connectedCallback(){this.init()}}b=new WeakMap,l=new WeakMap,h=new WeakMap,c=new WeakSet,w=function(){const t=this.querySelectorAll("ea-infinite-item");return t[t.length-1]},f=new WeakSet,S=function(t){if(this.disabled)return;let e=p(this,c,w).call(this),n=null;const o=new IntersectionObserver(d=>{const{isIntersecting:v}=d[0];if(this.disabled){o.disconnect();return}!v||n||(this.loading&&(m(this,l).style.display="block"),o.unobserve(e),n=setTimeout(()=>{this.dispatchEvent(new CustomEvent("bottomReached")),clearTimeout(n),n=null,e=p(this,c,w).call(this),o.observe(e),m(this,l).style.display="none"},t||200))},{root:this.parentNode,rootMargin:"10px",threshold:.1});o.observe(e)};customElements.get("ea-infinite")||customElements.define("ea-infinite",R);var g;class A extends E{constructor(){super();a(this,g,void 0);const t=this.attachShadow({mode:"open"}),e=document.createElement("div");e.className="ea-infinite-item_wrap";const n=u("");e.appendChild(n),r(this,g,e),this.build(t,C),this.shadowRoot.appendChild(e)}init(){}connectedCallback(){this.init()}}g=new WeakMap;customElements.get("ea-infinite-item")||customElements.define("ea-infinite-item",A);export{R as EaInfiniteScroll,A as EaInfiniteScrollItem};
