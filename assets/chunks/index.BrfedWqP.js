var m=(e,i,t)=>{if(!i.has(e))throw TypeError("Cannot "+t)};var d=(e,i,t)=>(m(e,i,"read from private field"),t?t.call(e):i.get(e)),o=(e,i,t)=>{if(i.has(e))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(e):i.set(e,t)},u=(e,i,t,s)=>(m(e,i,"write to private field"),s?s.call(e,t):i.set(e,t),t);var c=(e,i,t)=>(m(e,i,"access private method"),t);import{B as b}from"./Base.LSgLRpFA.js";class v extends b{constructor(){super();const i=this.attachShadow({mode:"open"});i.innerHTML=`
            <div class='ea-infinite-item_wrap' part='container'>
                <slot></slot>
            </div>
        `}}customElements.get("ea-infinite-item")||customElements.define("ea-infinite-item",v);var n,l,a,f,h,g;class S extends b{constructor(){super();o(this,a);o(this,h);o(this,n,void 0);o(this,l,void 0);const t=this.attachShadow({mode:"open"});t.innerHTML=`
            <div class='ea-infinite_wrap' part='container'>
                <slot></slot>
            </div>
            <slot name='loading' style="display: none;"></slot>
            <slot name='noMore' style="display: none;"></slot>
        `,u(this,n,t.querySelector('slot[name="loading"]')),u(this,l,t.querySelector('slot[name="noMore"]'))}get delay(){return this.getAttrNumber("delay")||200}set delay(t){this.setAttribute("delay",t)}get loading(){return this.getAttrBoolean("loading")}set loading(t){t!==void 0&&this.setAttribute("loading",t)}get disabled(){return this.getAttrBoolean("disabled")||!1}set disabled(t){this.setAttribute("disabled",t),t&&(d(this,l).style.display="block")}connectedCallback(){this.delay=this.delay,c(this,h,g).call(this)}}n=new WeakMap,l=new WeakMap,a=new WeakSet,f=function(){const t=this.querySelectorAll("ea-infinite-item");return t[t.length-1]},h=new WeakSet,g=function(){if(this.disabled)return;let t=c(this,a,f).call(this),s=null;const r=new IntersectionObserver(y=>{const{isIntersecting:p}=y[0];if(this.disabled){r.disconnect();return}!p||s||(this.loading&&(d(this,n).style.display="block"),r.unobserve(t),s=setTimeout(()=>{this.dispatchEvent(new CustomEvent("bottomReached")),clearTimeout(s),s=null,t=c(this,a,f).call(this),r.observe(t),d(this,n).style.display="none"},this.delay||200))},{root:this.parentNode,rootMargin:"10px",threshold:.1});r.observe(t)};customElements.get("ea-infinite")||customElements.define("ea-infinite",S);export{S as EaInfiniteScroll};
