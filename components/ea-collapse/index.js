import{timeout}from"../../utils/timeout.js";import Base from"../Base.js";import"../ea-collapse-item/index.js";export class EaCollapse extends Base{constructor(){super();this.attachShadow({mode:"open"}).innerHTML='\n            <div class="ea-collapse_wrap" part="container">\n                <slot></slot>\n            </div>\n        '}get active(){return this.getAttribute("active")||1}set active(t){this.setAttribute("active",t),timeout((()=>{this.#t(this.accordion,t)}),20)}get accordion(){return this.getAttrBoolean("accordion")||!1}set accordion(t){this.setAttribute("accordion",t),timeout((()=>{this.#t(t,this.active)}),20)}#t(t,e){const a=Array.from(this.querySelectorAll("ea-collapse-item"));let i=t?"":[];a.forEach((e=>{e.addEventListener("change",(i=>{t&&a.forEach((t=>{t.isOpen=!1})),e.isOpen=!i.detail.isOpen}))})),t?(i=e.toString().trim()[0],a.forEach((t=>{t.isOpen=t.name===i}))):(i=e.split(",").map((t=>t.trim())).concat(),a.forEach((t=>{t.isOpen=i.includes(t.name)})))}connectedCallback(){this.accordion=this.accordion,this.active=this.active}}customElements.get("ea-collapse")||customElements.define("ea-collapse",EaCollapse);