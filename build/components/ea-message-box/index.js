import Base from"../Base.js";import{EaMessageBox}from"./src/utils/EaMessageBoxClass.js";import"../ea-button/index.js";import"../ea-input/index.js";import{stylesheet}from"./src/style/stylesheet.js";export class EaMessageBoxElement extends Base{#t;#e;#n;#o;#a;#i;#s;#r;#c;constructor(){super();const t=this.attachShadow({mode:"open"});t.innerHTML='\n            <div class="ea-dialog_wrap" part="container" role="dialog">\n                <div class="ea-dialog_board" part="dialog-body">\n                    <div class="ea-dialog_header" part="dialog-header">\n                        <span class="ea-dialog_header-title" part="dialog-title"></span>\n                        <ea-icon class="ea-dialog_header-close" icon="icon-cancel" part="close-icon"></ea-icon>\n                    </div>\n                    <div class="ea-dialog_content" part="dialog-content">\n                        <div class="ea-dialog_content-text" part="dialog-content-text"></div>\n                        <ea-input class="ea-dialog_content-input" part="dialog-input"></ea-input>\n                    </div>\n                    <div class="ea-dialog_footer" part="dialog-footer">\n                        <div class="ea-dialog_footer-cancel-button" part="footer-cancel-button"></div>\n                        <div class="ea-dialog_footer-confirm-button" part="footer-confirm-button"></div>\n                    </div>\n                </div>\n                <div class="ea-dialog_mask" part="mask-wrap"></div>\n            </div>\n        ',this.#t=t.querySelector(".ea-dialog_wrap"),this.#e=t.querySelector(".ea-dialog_header"),this.#n=t.querySelector(".ea-dialog_content"),this.#o=t.querySelector(".ea-dialog_content-text"),this.#a=t.querySelector(".ea-dialog_content-input"),this.#i=t.querySelector(".ea-dialog_footer"),this.#s=t.querySelector(".ea-dialog_footer-confirm-button"),this.#r=t.querySelector(".ea-dialog_footer-cancel-button"),this.build(t,stylesheet)}get open(){return this.getAttrBoolean("open")}set open(t){this.toggleAttr("open",t),this.#t.style.display=t?"block":"none"}get content(){return this.getAttribute("content")}set content(t){this.#o.innerHTML=t}get isPrompt(){return this.getAttrBoolean("isPrompt")}set isPrompt(t){this.toggleAttr("isPrompt",t),this.#t?.classList.toggle("is-prompt",t)}get reg(){return this.#c}set reg(t){this.isPrompt&&(this.#c=t,this.#a.addEventListener("change",(e=>{const n=e.detail.value;e.target.shadowRoot.querySelector(".ea-input_inner").setAttribute("aria-invalid",!t.test(n)),this.#a.setAttribute("aria-invalid",!t.test(n)),t.test(n)})))}get inputPlaceholder(){return this.getAttribute("input-placeholder")}set inputPlaceholder(t){t&&(this.#a.placeholder=t)}get title(){return this.getAttribute("title")}set title(t){this.#e.innerHTML=t}get confirmButtonText(){return this.getAttribute("confirmButtonText")}set confirmButtonText(t){t&&(this.setAttribute("confirmButtonText",t),this.#s.innerHTML=`<ea-button size="medium" type="primary">${t}</ea-button>`,this.#s.addEventListener("click",(()=>{this.isPrompt?this.dispatchEvent(new CustomEvent("confirm",{detail:{target:this.#a,value:this.#a.value}})):this.dispatchEvent(new CustomEvent("confirm"))})))}get cancelButtonText(){return this.getAttribute("cancelButtonText")}set cancelButtonText(t){t&&(this.setAttribute("cancelButtonText",t),this.#r.innerHTML=`<ea-button size="medium">${t}</ea-button>`,this.#r.addEventListener("click",(()=>{this.dispatchEvent(new CustomEvent("cancel"))})))}connectedCallback(){this.dispatchEvent(new CustomEvent("ready"))}}customElements.get("ea-message-box")||customElements.define("ea-message-box",EaMessageBoxElement);const messageBox=new EaMessageBox(!1);window.$alert=messageBox,window.$confirm=messageBox;const promptBox=new EaMessageBox(!0);window.$prompt=promptBox;